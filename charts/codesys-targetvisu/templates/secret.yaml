apiVersion: v1
kind: Secret
metadata:
  name: {{ include "codesys-targetvisu.fullname" . }}-config
  namespace: {{ .Release.Namespace }}
  labels:
    {{- include "codesys-targetvisu.labels" . | nindent 4 }}
  annotations:
    {{- include "codesys-targetvisu.annotations" . | nindent 4 }}
    "helm.sh/resource-policy": keep
type: Opaque
stringData:
  # This is a placeholder secret for runtime configuration
  # Actual secrets should be created manually or via external-secrets operator
  placeholder: "Replace with actual secrets"
  {{- if and .Values.security.authentication.enabled (eq .Values.security.authentication.type "basic") }}
  # Basic auth users - these are examples, replace with real passwords
  {{- range .Values.security.authentication.users }}
  # {{ .username }}: Create secret {{ .passwordSecret }} with key 'password'
  {{- end }}
  {{- end }}
