{{- if .Values.fireball }}
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                               â•‘
â•‘              TELEGRAF POD DEPLOYED SUCCESSFULLY               â•‘
â•‘           Fireball Industries - Professional Chaos            â•‘
â•‘        {{ .Values.fireball.slogan }}                â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Release: {{ .Release.Name }}
Namespace: {{ .Release.Namespace }}
Deployment Mode: {{ .Values.deploymentMode }}
Resource Preset: {{ .Values.resourcePreset }}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š METRICS COLLECTION STATUS

{{- if eq .Values.deploymentMode "deployment" }}
  Mode: Single Instance Deployment
  Replicas: {{ .Values.replicaCount }}
  
  Check pod status:
    kubectl get pods -n {{ .Release.Namespace }} -l app.kubernetes.io/name=telegraf
{{- else }}
  Mode: DaemonSet (Per-Node Collection)
  
  Check pod status on each node:
    kubectl get pods -n {{ .Release.Namespace }} -l app.kubernetes.io/name=telegraf -o wide
{{- end }}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ” VERIFICATION STEPS

1. Check pod health:
   kubectl get pods -n {{ .Release.Namespace }}

2. View logs:
   kubectl logs -n {{ .Release.Namespace }} -l app.kubernetes.io/name=telegraf --tail=50

3. Test configuration:
   kubectl exec -n {{ .Release.Namespace }} deployment/{{ include "telegraf.fullname" . }} -- \
     telegraf --test --config /etc/telegraf/telegraf.conf

{{- if .Values.config.outputs.prometheus_client.enabled }}

4. Access Prometheus metrics:
   kubectl port-forward -n {{ .Release.Namespace }} svc/{{ include "telegraf.fullname" . }} 8080:8080
   
   Then browse to: http://localhost:8080/metrics
{{- end }}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ˆ ENABLED OUTPUTS

{{- if .Values.config.outputs.influxdb_v2.enabled }}
  âœ“ InfluxDB v2
    URL: {{ index .Values.config.outputs.influxdb_v2.urls 0 }}
    Bucket: {{ .Values.config.outputs.influxdb_v2.bucket }}
{{- end }}
{{- if .Values.config.outputs.influxdb_v1.enabled }}
  âœ“ InfluxDB v1
    URL: {{ index .Values.config.outputs.influxdb_v1.urls 0 }}
    Database: {{ .Values.config.outputs.influxdb_v1.database }}
{{- end }}
{{- if .Values.config.outputs.prometheus_client.enabled }}
  âœ“ Prometheus Client
    Listen: {{ .Values.config.outputs.prometheus_client.listen }}
    Path: {{ .Values.config.outputs.prometheus_client.path }}
{{- end }}
{{- if .Values.config.outputs.file.enabled }}
  âœ“ File Output
    Location: {{ index .Values.config.outputs.file.files 0 }}
{{- end }}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š ENABLED INPUTS

{{- if .Values.config.inputs.cpu.enabled }}
  âœ“ CPU Metrics
{{- end }}
{{- if .Values.config.inputs.mem.enabled }}
  âœ“ Memory Metrics
{{- end }}
{{- if .Values.config.inputs.disk.enabled }}
  âœ“ Disk Metrics
{{- end }}
{{- if .Values.config.inputs.net.enabled }}
  âœ“ Network Metrics
{{- end }}
{{- if .Values.config.inputs.docker.enabled }}
  âœ“ Docker Metrics
{{- end }}
{{- if .Values.config.inputs.kubernetes.enabled }}
  âœ“ Kubernetes Node Metrics
{{- end }}
{{- if .Values.config.inputs.kube_inventory.enabled }}
  âœ“ Kubernetes Cluster Inventory
{{- end }}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš™ï¸  CONFIGURATION

Collection Interval: {{ if eq .Values.resourcePreset "custom" }}{{ .Values.config.agent.interval }}{{ else }}{{ (index .Values.resourcePresets .Values.resourcePreset).collectionInterval }}{{ end }}
Flush Interval: {{ if eq .Values.resourcePreset "custom" }}{{ .Values.config.agent.flush_interval }}{{ else }}{{ (index .Values.resourcePresets .Values.resourcePreset).flushInterval }}{{ end }}
Buffer Limit: {{ if eq .Values.resourcePreset "custom" }}{{ .Values.config.agent.metric_buffer_limit }}{{ else }}{{ (index .Values.resourcePresets .Values.resourcePreset).metricBufferLimit }}{{ end }} metrics

Resources:
{{- if eq .Values.resourcePreset "custom" }}
  CPU: {{ .Values.customResources.requests.cpu }} / {{ .Values.customResources.limits.cpu }}
  Memory: {{ .Values.customResources.requests.memory }} / {{ .Values.customResources.limits.memory }}
{{- else }}
  CPU: {{ (index .Values.resourcePresets .Values.resourcePreset).resources.requests.cpu }} / {{ (index .Values.resourcePresets .Values.resourcePreset).resources.limits.cpu }}
  Memory: {{ (index .Values.resourcePresets .Values.resourcePreset).resources.requests.memory }} / {{ (index .Values.resourcePresets .Values.resourcePreset).resources.limits.memory }}
{{- end }}

{{- if .Values.persistence.enabled }}
Persistence: Enabled ({{ .Values.persistence.size }})
{{- else }}
Persistence: Disabled
{{- end }}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ” SECURITY STATUS

{{- if .Values.rbac.create }}
  âœ“ RBAC Enabled ({{ if .Values.rbac.clusterRole }}Cluster-wide{{ else }}Namespace-scoped{{ end }})
{{- else }}
  âš  RBAC Disabled (limited metrics available)
{{- end }}

{{- if .Values.securityContext.runAsNonRoot }}
  âœ“ Non-root Execution
{{- end }}

{{- if .Values.securityContext.readOnlyRootFilesystem }}
  âœ“ Read-only Root Filesystem
{{- end }}

{{- if .Values.networkPolicy.enabled }}
  âœ“ Network Policy Enabled
{{- else }}
  âš  Network Policy Disabled (unrestricted network access)
{{- end }}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“š DOCUMENTATION

Full documentation: https://github.com/fireball-industries/telegraf-pod
Security guide: docs/SECURITY.md
Examples: examples/

Management scripts:
  scripts/manage-telegraf.ps1 -Action health-check -Namespace {{ .Release.Namespace }}
  scripts/test-metrics.ps1 -Namespace {{ .Release.Namespace }}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš ï¸  IMPORTANT REMINDERS

{{- if not .Values.persistence.enabled }}
  â€¢ Persistence is disabled - metrics will be lost if outputs fail
  â€¢ Consider enabling persistence for production deployments
{{- end }}

{{- if not .Values.rbac.create }}
  â€¢ RBAC is disabled - Kubernetes metrics collection will fail
  â€¢ Enable RBAC for complete cluster monitoring
{{- end }}

{{- if and .Values.config.inputs.docker.enabled (not .Values.hostVolumes.enabled) }}
  â€¢ Docker input enabled but hostVolumes disabled
  â€¢ Enable hostVolumes to collect Docker metrics
{{- end }}

{{- if eq .Values.deploymentMode "daemonset" }}
{{- if not .Values.hostNetwork }}
  â€¢ DaemonSet mode without hostNetwork
  â€¢ Enable hostNetwork for node-level metrics
{{- end }}
{{- end }}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¯ NEXT STEPS

1. Verify metrics are being collected:
   kubectl logs -n {{ .Release.Namespace }} -l app.kubernetes.io/name=telegraf | grep "gathered metrics"

2. Check output connectivity:
{{- if .Values.config.outputs.influxdb_v2.enabled }}
   influx query 'from(bucket:"{{ .Values.config.outputs.influxdb_v2.bucket }}") |> range(start: -5m) |> limit(n:10)'
{{- end }}

3. Monitor resource usage:
   kubectl top pods -n {{ .Release.Namespace }}

4. Set up alerting based on metrics

5. Create Grafana dashboards for visualization

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’¬ SUPPORT

Need help? We're here (when we feel like it):

  ğŸ“§ Email: {{ .Values.fireball.support.email }}
  â° Hours: {{ .Values.fireball.support.hours }}
  ğŸ“œ SLA: {{ .Values.fireball.support.sla }}

Report issues: https://github.com/fireball-industries/telegraf-pod/issues

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš–ï¸  LEGAL DISCLAIMER

{{ .Values.fireball.legal.disclaimer }}

License: {{ .Values.fireball.legal.license }}
Warranty: {{ .Values.fireball.warranty }}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Happy monitoring! May your metrics be plentiful and your
cardinality reasonable. ğŸ”¥ğŸ“Š

Fireball Industries - {{ .Values.fireball.slogan }}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

{{- end }}
