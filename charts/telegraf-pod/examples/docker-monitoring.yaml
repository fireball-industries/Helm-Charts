## Docker Host Monitoring - Container Metrics Collection
## Fireball Industries - Container Chaos Division

deploymentMode: deployment
resourcePreset: medium
replicaCount: 1

## Mount Docker socket
hostVolumes:
  enabled: true
  paths:
    - name: docker-socket
      hostPath: /var/run/docker.sock
      mountPath: /var/run/docker.sock
      readOnly: true

## Configuration
config:
  agent:
    interval: "30s"
    flush_interval: "30s"

  outputs:
    prometheus_client:
      enabled: true
      listen: ":8080"
      
    influxdb_v2:
      enabled: false

  inputs:
    ## Basic system metrics
    internal:
      enabled: true
      
    cpu:
      enabled: true
      totalcpu: true
      percpu: false
      
    mem:
      enabled: true
      
    disk:
      enabled: true
      
    ## Docker metrics
    docker:
      enabled: true
      endpoint: "unix:///var/run/docker.sock"
      gather_services: false
      container_names: []
      container_name_include: []
      container_name_exclude: []
      timeout: "5s"
      perdevice: true
      total: true
      docker_label_include: []
      docker_label_exclude: []
      
    ## Optional: Log file monitoring
    # tail:
    #   enabled: true
    #   files:
    #     - "/var/lib/docker/containers/*/*.log"
    #   from_beginning: false
    #   pipe: false
    #   data_format: "json"

## Labels for discovery
podLabels:
  monitoring: "docker"
  environment: "production"

fireball:
  slogan: "We Play With Fire So You Don't Have Toâ„¢"
