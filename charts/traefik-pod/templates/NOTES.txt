â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                              â•‘
â•‘  Traefik Ingress Controller Deployed Successfully! ğŸš€                       â•‘
â•‘                                                                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

{{- if eq .Values.deployment.kind "Deployment" }}
Deployment Type: Deployment ({{ include "traefik.replicas" . }} replicas)
{{- else }}
Deployment Type: DaemonSet (one per node)
{{- end }}
Service Type:    {{ .Values.service.type }}
Resource Preset: {{ .Values.deployment.resourcePreset }}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“‹ ACCESS POINTS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

{{- if .Values.traefik.dashboard.enabled }}

ğŸ–¥ï¸  Dashboard:

{{- if eq .Values.service.type "LoadBalancer" }}
   Once LoadBalancer IP is assigned:
   kubectl get svc {{ include "traefik.fullname" . }}
   
   Then visit: http://<EXTERNAL-IP>:{{ .Values.ports.traefik.exposedPort }}/dashboard/

{{- else if eq .Values.service.type "NodePort" }}
   http://<NODE-IP>:{{ .Values.service.nodePorts.traefik }}/dashboard/

{{- else }}
   Port forward to access:
   kubectl port-forward svc/{{ include "traefik.fullname" . }} 9000:{{ .Values.ports.traefik.exposedPort }}
   
   Then visit: http://localhost:9000/dashboard/
{{- end }}
{{- end }}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸŒ ACTIVE ENTRYPOINTS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

{{- if .Values.ports.web.enabled }}
âœ“ HTTP (web):        Port {{ .Values.ports.web.exposedPort }}
  {{- if .Values.ports.web.redirectTo }}
  âš ï¸  Redirects to HTTPS
  {{- end }}
{{- end }}
{{- if .Values.ports.websecure.enabled }}
âœ“ HTTPS (websecure): Port {{ .Values.ports.websecure.exposedPort }}
  {{- if .Values.ports.websecure.tls.enabled }}
  ğŸ”’ TLS Enabled
  {{- end }}
{{- end }}
{{- if .Values.ports.mqtt.enabled }}
âœ“ MQTT:              Port {{ .Values.ports.mqtt.exposedPort }}
{{- end }}
{{- if .Values.ports.mqtts.enabled }}
âœ“ MQTTS:             Port {{ .Values.ports.mqtts.exposedPort }}
{{- end }}
{{- if .Values.ports.modbus.enabled }}
âœ“ Modbus TCP:        Port {{ .Values.ports.modbus.exposedPort }}
{{- end }}
{{- if .Values.ports.opcua.enabled }}
âœ“ OPC-UA:            Port {{ .Values.ports.opcua.exposedPort }}
{{- end }}
{{- if .Values.traefik.metrics.prometheus.enabled }}
âœ“ Prometheus:        Port {{ .Values.ports.metrics.exposedPort }}/metrics
{{- end }}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸš€ NEXT STEPS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. Check Traefik Status:
   
   kubectl get pods -l app.kubernetes.io/name={{ include "traefik.name" . }}
   kubectl get svc {{ include "traefik.fullname" . }}

2. Create Your First Ingress:

   cat <<EOF | kubectl apply -f -
   apiVersion: networking.k8s.io/v1
   kind: Ingress
   metadata:
     name: my-service
   spec:
     rules:
       - host: myservice.local
         http:
           paths:
             - path: /
               pathType: Prefix
               backend:
                 service:
                   name: my-service
                   port:
                     number: 80
   EOF

3. Test the Route:

{{- if eq .Values.service.type "LoadBalancer" }}
   # Get LoadBalancer IP
   export TRAEFIK_IP=$(kubectl get svc {{ include "traefik.fullname" . }} -o jsonpath='{.status.loadBalancer.ingress[0].ip}')
   
   # Test routing
   curl -H "Host: myservice.local" http://$TRAEFIK_IP
{{- else if eq .Values.service.type "NodePort" }}
   # Get Node IP
   export NODE_IP=$(kubectl get nodes -o jsonpath='{.items[0].status.addresses[0].address}')
   
   # Test routing
   curl -H "Host: myservice.local" http://$NODE_IP:{{ .Values.service.nodePorts.web }}
{{- else }}
   # Port forward first
   kubectl port-forward svc/{{ include "traefik.fullname" . }} 8080:{{ .Values.ports.web.port }}
   
   # Then test
   curl -H "Host: myservice.local" http://localhost:8080
{{- end }}

{{- if .Values.tls.certResolvers.letsencrypt.enabled }}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ”’ SSL/TLS CONFIGURATION
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Let's Encrypt: ENABLED
Email:         {{ .Values.tls.certResolvers.letsencrypt.email }}
Challenge:     {{ .Values.tls.certResolvers.letsencrypt.challengeType }}

To use SSL with your Ingress, add TLS configuration:

apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: my-service
  annotations:
    cert-manager.io/cluster-issuer: letsencrypt
spec:
  tls:
    - hosts:
        - myservice.example.com
      secretName: myservice-tls
  rules:
    - host: myservice.example.com
      # ... routes

âš ï¸  Make sure ports 80 and 443 are accessible from the internet!
{{- end }}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Š MONITORING
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

{{- if .Values.traefik.metrics.prometheus.enabled }}
Prometheus Metrics: http://<traefik-ip>:{{ .Values.ports.metrics.exposedPort }}/metrics

Scrape Configuration:
  - job_name: 'traefik'
    static_configs:
      - targets: ['{{ include "traefik.fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local:{{ .Values.ports.metrics.exposedPort }}']
{{- end }}

View Logs:
  kubectl logs -l app.kubernetes.io/name={{ include "traefik.name" . }} -f

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ­ INDUSTRIAL USE CASES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Route to your industrial services:

â€¢ Node-RED:     http://node-red.factory.local â†’ node-red:1880
â€¢ Grafana:      http://grafana.factory.local â†’ grafana:3000
â€¢ InfluxDB API: http://influxdb.factory.local â†’ influxdb:8086
â€¢ MQTT Broker:  mqtt://factory.local:1883 â†’ mosquitto:1883

Create Ingress resources for each service to enable routing.
See examples in: charts/traefik-pod/examples/

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“š DOCUMENTATION
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Chart Documentation: charts/traefik-pod/README.md
Traefik Docs:        https://doc.traefik.io/traefik/
Kubernetes Ingress:  https://kubernetes.io/docs/concepts/services-networking/ingress/

Support: patrick@fireballindustries.com

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  Fireball Industries - "Ignite Your Factory Efficiencyâ„¢"                    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
